<odoo>
    <record id="purchase_request_list_view_id" model="ir.ui.view">
        <field name="name">purchase.request.list</field>
        <field name="model">purchase.request</field>
        <field name="type">list</field>
        <field name="arch" type="xml">
            <list>
                <field name="tanggal_pengajuan" string="Tanggal Pengajuan" width="200" />
                <field name="nomor_pr" string="Nomor PR"/>
                <field name="diajukan_oleh" string="Diajukan oleh"/>
                <field name="status" string="Status"/>
            </list>
        </field>
    </record>

    <record id="test_pegawai_form_view_id" model="ir.ui.view">
        <field name="name">purchase.request.form</field>
        <field name="model">purchase.request</field>
        <field name="type">form</field>
        <field name="arch" type="xml">
            <form string="Purchase Request">
                <header>
                    <button name="action_set_submit" string="Submit" type="object" class="btn-primary" 
                        invisible="status != 'draft'" />
                        
                    <button name="action_set_approve" string="Approve" type="object" class="btn-primary"
                        invisible="status != 'to_approve'" />

                    <button name="action_set_reject" string="Reject" type="object" class="btn-danger" 
                        invisible="status != 'to_approve'" />

                    <field name="status" widget="statusbar" statusbar_visible="draft,to_approve,approved,rejected"/>
                </header>
                <sheet>
                    <group>
                        <field name="tanggal_pengajuan" string="Tanggal Pengajuan"/>
                        <field name="nomor_pr" string="Nomor PR"/>
                        <field name="diajukan_oleh" string="Diajukan oleh"/>
                        <notebook>
                            <page string="Produk Request">
                                <field name='product_ids' readonly="status not in ['draft']">
                                    <list editable='bottom'>
                                        <control>
                                            <create name="add_product_control" string="Add a product"/>
                                        </control>
                                        <field name="product" string="Produk"/>
                                        <field name="qty_request" string="Qty Request" width="200"/>
                                        <field name="qty_approved" string="Qty Approved" width="200"/>
                                    </list>
                                </field>
                            </page>
                        </notebook>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <record id="purchase_request_line_list_view_id" model="ir.ui.view">
        <field name="name">purchase.request.line.list</field>
        <field name="model">product.request</field>
        <field name="type">list</field>
        <field name="arch" type="xml">
            <list create="False">
                <header>
                    <button name="action_create_rfq" type="object" string="Buat RFQ" class="oe_highlight"/>
                </header>
                <field name="relation_pr_nomor_pr" string="Nomor PR"/>
                <field name="relation_pr_diajukan_oleh" string="Diajukan oleh"/>
                <field name="product" string="Product"/>
                <field name="qty_approved" string="Quantity"/>
                <field name="custom_status_display" string="Status"/>
            </list>
        </field>
    </record>
</odoo>